<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Australian International Trade</title>
	
	<!-- Vega & Vega-Lite: Libraries for declarative data visualization -->
	<script src="https://cdn.jsdelivr.net/npm/vega@5.22.1"></script>
	<script src="https://cdn.jsdelivr.net/npm/vega-lite@5.5.0"></script>
	<script src="https://cdn.jsdelivr.net/npm/vega-embed@6.21.0"></script>
	
	<!-- Custom stylesheet for layout and styling -->
	<link rel="stylesheet" type="text/css" href="css/styles.css" media="all">
	
	<!-- Custom JavaScript for interactive chart hover descriptions -->
	<script src="scripts/chart_interactions.js"></script>
	
	<!-- Custom JavaScript for flow map dynamic country highlighting -->
	<script src="scripts/flow_map_controller.js"></script>
</head>
<body>
	<!-- Main header with title and subtitle -->
	<header>
		<h1>Australia's International Trade at a Glance</h1>
		<p class="subtitle">Visualising key partners, trade balances, and global flow patterns.</p>
	</header>

	<!-- Introduction section: Overview of the visualization project -->
	<section class="intro-section">
		<p class="intro">Australia's economy is deeply interconnected with the global market, and understanding its international trade dynamics provides valuable insight into our nation's economic resilience, dependencies, and opportunities for growth. This visualisation project — Australia's International Trade at a Glance — explores how Australia engages with its top trading partners, the balance between imports and exports, and the movement of goods and capital across regions.</p>
	</section>

	<main class="dashboard">
		<!-- Visualization 1: Interactive Flow Map showing trade routes and volumes -->
		<section class="viz-section hero">
			<div class="section-header">
				<h2>Trade Flow Map</h2>
				<!-- Description with color-coded imports (blue) and exports (orange) -->
				<p class="section-description">Origin-destination flows showing Australia's top trading partners in merchandise. Line width represents trade volume. Toggle between <span class="import-text">imports</span> and <span class="export-text">exports</span> and adjust the Year and Min Trade Value sliders to explore trade patterns over time.</p>
			</div>
			<!-- Container for the Vega-Lite flow map visualization -->
			<div id="flow_map"></div>
			<!-- Contextual description explaining the geographic patterns -->
			<div class="viz-description">
				<p>Australia's trade is heavily centred around the Asia-Pacific region, with <span>China</span> standing out as the country's largest trading partner by a significant margin. Both <span class="import-text">imports</span> and <span class="export-text">exports</span> between the two nations remain consistently high from 2019 to 2024, showing how closely the two economies are connected. <span>Japan</span>, <span>South Korea</span>, and <span>India</span> are key export destinations, mainly for resources like coal, iron ore, and gas, while the <span>United States</span> plays a major role in imports, particularly for technology and machinery. Overall, these trends highlight how Australia's economy is strongly tied to its regional neighbours, reflecting its role as a major supplier of raw materials and a consumer of manufactured goods. Hover over each importing country to learn more about the trade relationship between that country and Australia.</p>
			</div>
		</section>

		<!-- Visualization 2: Exports Stacked Area Chart -->
		<section class="viz-section hero">
			<div class="section-header">
				<h2>Goods <span class="export-text">Exports</span> Over Time</h2>
				<p class="section-description">Stacked area chart showing the composition of Australia's merchandise exports by commodity category from 2010 onwards. Hover over each area to see detailed information about that export category.</p>
			</div>
			<!-- Container for the Vega-Lite stacked area chart with hover description -->
			<div style="position: relative;">
				<div id="exports_area_chart"></div>
				<!-- Dynamic hover description box (positioned absolutely) -->
				<div id="exports_area_chart_description_box" class="hover-description-box"></div>
			</div>
			<!-- Contextual description explaining the export trends -->
			<div class="viz-description exports">
				<p>This stacked area chart reveals the composition and evolution of Australia's merchandise exports from 2010 to 2025. Metal ores and minerals (including iron ore) and coal consistently dominate export values, reflecting Australia's strength as a resource-rich nation. The chart also shows significant contributions from agricultural products like meat, cereal grains, and wool, alongside manufactured goods such as machinery and transport equipment. Notable trends include the steady growth in mineral exports and fluctuations in coal exports, likely influenced by global demand and commodity price cycles. This visualisation highlights how Australia's export economy remains heavily reliant on primary resources, while also maintaining diverse secondary sectors.</p>
			</div>
		</section>

		<!-- Visualization 3: Imports Stacked Area Chart -->
		<section class="viz-section hero">
			<div class="section-header">
				<h2>Goods <span class="import-text">Imports</span> Over Time</h2>
				<p class="section-description">Stacked area chart showing the composition of Australia's merchandise imports by commodity category from 2010 onwards. Hover over each area to see detailed information about that import category.</p>
			</div>
			<!-- Container for the Vega-Lite stacked area chart with hover description -->
			<div style="position: relative;">
				<div id="imports_area_chart"></div>
				<!-- Dynamic hover description box (positioned absolutely) -->
				<div id="imports_area_chart_description_box" class="hover-description-box"></div>
			</div>
			<!-- Contextual description explaining the import trends -->
			<div class="viz-description imports">
				<p>This stacked area chart reveals the composition and evolution of Australia's merchandise imports from 2010 to 2025. The chart shows how Australia sources various goods from international markets, reflecting both consumer demand and industrial needs. Import patterns demonstrate Australia's reliance on manufactured goods, technology, and intermediate products that support domestic industries and consumption.</p>
			</div>
		</section>

	</main>

	<!-- Footer: Comprehensive data source citations in academic format -->
	<footer>
		<div class="footer-content">
			<h3>Data Sources</h3>
			<!-- Grid layout for three data sources (responsive to single column on mobile) -->
			<div class="sources-grid">
				<!-- Source 1: Flow map trade data -->
				<div class="source-item">
					<h4>Trade Flow Map</h4>
					<p><strong>Source:</strong> Australian Bureau of Statistics (2025). <em>International Trade: Supplementary Information, Calendar Year.</em> Released 29 April 2025.</p>
					<p class="source-description">Table 1. Merchandise exports, by selected countries, by six month aggregates, FOB value, $m<br>
					Table 2. Merchandise imports, by selected countries, by six month aggregates, customs value, $m</p>
				</div>
				<!-- Source 2: Exporters industry data -->
				<div class="source-item">
					<h4>Goods Exports Over Time</h4>
					<p><strong>Source:</strong> Australian Bureau of Statistics (2025). <em>International Trade in Goods.</em> Released 2 October 2025.</p>
					<p class="source-description">Table 3. Goods credits, original, current prices</p>
				</div>
				<!-- Source 3: Imports time series data -->
				<div class="source-item">
					<h4>Importers by Industry</h4>
					<p><strong>Source:</strong> Australian Bureau of Statistics (2022). <em>Characteristics of Australian Exporters.</em> Released 30 June 2022.</p>
					<p class="source-description">Table 3. Number of business importers and value, by industry of importer, 2020-21</p>
				</div>
			</div>
			<!-- Author and creation info -->
			<div class="footer-note">
				<p><strong>Author:</strong> Broden Tripcony | <strong>Created:</strong> 2025 | All data sourced from the Australian Bureau of Statistics (ABS). Generative AI was used to assist in the creation of this visualisation.</p>
			</div>
		</div>
	</footer>

	<!-- JavaScript: Embed Vega-Lite visualizations and setup interactive hover descriptions -->
	<script type="text/javascript">
		// Visualization 1: Flow Map
		// Load and embed the flow map specification with toggle functionality for imports/exports
		var flowMapSpec = "specs/flow_map.vg.json";
		initializeFlowMap(flowMapSpec).catch(console.error);

		// Visualization 2: Exports Stacked Area Chart
		// Load and embed the exports stacked area chart, then setup hover interactions
		var exportsAreaSpec = "specs/exports_stacked_area.vg.json";
		vegaEmbed('#exports_area_chart', exportsAreaSpec, {"actions": false}).then(function(result) {
			// Setup hover descriptions using the custom function from chart_interactions.js
			// This adds event listeners to show category details when hovering over areas
			// Note: The stacked area chart uses 'Item' as the field name, not 'Industry'
			if (window.setupChartHover && window.exportCategoryDescriptions) {
				window.setupChartHover(result.view, 'exports_area_chart_description_box', window.exportCategoryDescriptions, 'Item');
			}
		}).catch(console.error);

		// Visualization 3: Imports Stacked Area Chart
		// Load and embed the imports stacked area chart, then setup hover interactions
		var importsAreaSpec = "specs/imports_stacked_area.vg.json";
		vegaEmbed('#imports_area_chart', importsAreaSpec, {"actions": false}).then(function(result) {
			// Setup hover descriptions using the custom function from chart_interactions.js
			// This adds event listeners to show category details when hovering over areas
			// Note: The stacked area chart uses 'Item' as the field name, not 'Industry'
			if (window.setupChartHover && window.importCategoryDescriptions) {
				window.setupChartHover(result.view, 'imports_area_chart_description_box', window.importCategoryDescriptions, 'Item');
			}
		}).catch(console.error);
	</script>
</body>
</html>
